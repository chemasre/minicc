<!DOCTYPE html>
<html>
<head>
<script src="scripts/parser.js"></script>
<script src="scripts/syntax.js"></script>
<script src="scripts/codegen.js"></script>
</head>
<body>
<div style="width:100%; padding: 10pt"><button type="button" id="compile" onclick="Compile()">Compile</button></div>
<textarea id="source" style="float:left; margin:10pt" rows="200" cols="30">
</textarea>
<textarea id="tokens" style="float:left; margin:10pt" rows="200" cols="30">
</textarea>
<textarea id="tree" style="float:left; margin:10pt" rows="200" cols="60">
</textarea>
<textarea id="code" style="float:left; margin:10pt" rows="200" cols="30">
</textarea>
<script>

var sourceElement;
var tokensElement;
var treeElement;
var codeElement;

function Compile()
{
	var source = sourceElement.value;
	
	var tokens = Parse(source);
	
	if(tokens == null) { return; }
		
	var tokensText = PrintTokens(tokens);
	
	var tree = BuildTree(tokens);
	
	if(tree == null) { return; }
	
	var treeText = PrintTree(tree);
	
	var result = CodeGen(tree);
	
	if(result == null) { return; }
	
	
	tokensElement.value = "-----------Tokens-----------\n" + tokensText;
    treeElement.value = "-----------TreeNodes-----------\n" + treeText;

    codeElement.value = "------Memory-------\n" + result[0];
    codeElement.value += "------Code--------\n" + result[1];
	

	
}

sourceElement = document.getElementById("source");
tokensElement = document.getElementById("tokens");
treeElement = document.getElementById("tree");
codeElement = document.getElementById("code");


</script>
</body>
</html>
